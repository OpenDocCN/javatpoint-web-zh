# Rails 验证

> 原文：<https://www.javatpoint.com/ruby-on-rails-validation>

Rails 验证为每个活动记录模型类定义了有效的状态。它们用于确保只有有效的详细信息被输入到您的数据库中。Rails 使向模型类添加验证变得很容易，并允许您创建自己的验证方法。使用内置的验证 DSL，您可以进行几种验证。

当活动记录模型类未通过验证时，将被视为错误。每个活动记录模型类维护一个错误集合，当发生验证错误时，该集合向用户显示适当的错误信息。

## Rails 内置验证方法

| 方法 | 描述 |
| 验证接受 | 该验证由用户通过选中复选框来接受服务协议条款 |
| 验证 _ 关联 | 验证关联对象本身是否都有效。与任何类型的协会合作。 |
| 验证确认 | 它验证用户是否在第二个输入字段中输入了匹配的信息，如密码或电子邮件。 |
| 验证每个 | 根据块验证每个属性。 |
| 验证的排除 | 验证属性不在特定的可枚举对象中。 |
| 验证
的格式 | 使用正则表达式验证属性值，以确保其格式正确。 |
| 验证的包含 | 验证属性值在特定的可枚举对象中是否可用。 |
| 验证的长度 | 验证属性的长度是否符合指定的长度限制。 |
| 验证的数量 | 验证属性是否为数字。 |
| 验证的存在 | 验证该属性不是空的。 |
| 验证的大小 | 这是验证长度的别名 |
| 验证的唯一性 | 验证属性在数据库中是唯一的。 |

* * *

## 跳过验证

以下 Rails 方法跳过验证并将对象保存到数据库，而不管其有效性如何。应该谨慎使用。

*   减量！
*   减量计数器
*   增量！
*   增量计数器
*   切换！
*   触控
*   全部更新
*   更新属性

### 有效吗？无效？

在保存活动记录对象之前，由 Rails 进行验证。如果产生任何错误，则不保存对象。

**有效吗？**触发您的验证，如果没有发现错误则返回真，否则返回假。

**示例:**

```
class Person < ApplicationRecord
??validates :name, presence: true
end
?
Person.create(name: "John Cena").valid? # => true
Person.create(name: nil).valid? # => false

```

**无效？**仅仅是有效的反义词吗？。它会触发您的验证，如果无效则返回 true，否则返回 false。

* * *