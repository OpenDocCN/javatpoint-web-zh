# 在轨测试

> 原文:[https://www.javatpoint.com/ruby-on-rails-testing](https://www.javatpoint.com/ruby-on-rails-testing)

Rails 测试对于应用程序的编写和运行非常简单。随着 Rails 脚本生成模型和控制器，测试文件也以同样的方式生成。Rails 还使用单独的数据库进行测试。每次运行应用程序的测试时，应用程序中的测试数据库都会重新构建，因此在运行测试时，您总是有一个一致的数据库。

Rails 使用 Ruby Test::单元测试库。Rails 应用程序测试通常使用 Rake 实用程序运行。

* * *

## Rails 测试目录

测试目录包含 Rails 生成的所有测试文件，这些文件用于为您的应用程序构建测试。测试目录具有以下目录结构。

```

test/ 
	fixtures/ 
	functional/ 
	integration/ 
	mocks/ 
		development/ 
		test/ 
	unit/

```

Rails 基本上支持三种类型的测试:

*   功能的
*   综合
*   单元测试

测试目录中的设备允许您设置应用程序可以使用的测试数据。编写 Rails 测试时，它节省了大量的时间和精力。

对于编写测试，您必须首先编写代码来创建测试数据，并使数据库进入已知的填充状态。铁轨固定装置为你完成了大部分工作。

模拟是允许替换难以处理的依赖关系的类。

**功能测试:**功能测试用于测试应用程序的控制器方法。当使用脚本/生成命令生成控制器类时，Rails 还会生成用于编写功能测试的功能测试文件。

**单元测试:**单元测试用于测试模型类中包含的方法。这些测试主要用于测试模型中存在的业务逻辑。这是 Rails 支持的最流行的测试形式。

**集成测试:**集成测试允许多个控制器之间的测试交互。允许测试应用程序中更完整的用户场景或案例。使用它的另一个原因是它模拟了用户点击并访问组成应用程序的各种页面。

* * *

## Rails 测试生命周期

当运行 Rails 应用程序的测试时，每次都会遵循一个标准的生命周期。此生命周期由以下步骤组成:

*   加载测试夹具-这将清除数据库表并将夹具数据加载到数据库中。
*   如果测试访问数据，则从数据库中读取数据。
*   测试运行后，数据库回滚到其启动状态。

每次使用 Rake 命令运行测试时，整个生命周期都是由 Rails 执行的。

* * *