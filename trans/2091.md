# 活动记录

> 原文：<https://www.javatpoint.com/ruby-on-rails-active-record>

数据结构由类的层次结构表示。数据大多存储在关系数据库表中。程序的对象视图和数据库的关系数据视图之间存在本质上的不匹配。为了消除这种不匹配，已经尝试了许多尝试。解决这种不匹配的一种方法是使用对象关系映射工具。ORM 是关系数据库表到面向对象类的映射。

一个完美的 ORM 将数据库关系数据的细节隐藏在对象层次结构的后面。在 Rails 中，ORM 由活动记录实现，活动记录是 Rails 库最重要的组件之一。

ORM 在数据库如何处理其数据和面向对象应用程序如何处理其数据之间提供了一个映射层。它将数据库表映射到类，数据库表行映射到对象，数据库表列映射到对象属性。活动记录主要为您执行映射过程。使用活动记录时，您不必再处理像表、行或列这样的数据库结构。您的应用程序只处理类、属性和对象。

![Ruby Active record](img/070ef58f8ed9293c94120a80741a4c92.png)

活动记录基于马丁·福勒创建的设计模式。仅从这个设计模式，活动记录获得了它的名字。即使行数较少，它的代码也能很好地工作。它很容易使用。如果在您的数据库和类中遵循适当的命名方案，那么活动记录轨应用程序根本不需要任何配置。

活动记录还有一个让你的工作变得简单的特性，那就是特定领域语言的实现。DSL 是一种用于特定问题领域的编程语言。它允许您使用动态生成的方法，像检索记录一样，使用方法 find_by_first_name。

* * *

## 活动记录基础

活动记录的一些基础是类、对象和命名约定。

*   **活动记录类和对象**

数据库中的每个表通常由扩展活动记录基类的类来表示。通过扩展活动记录基类，模型对象继承了许多功能。

使用活动记录时，您不必设置任何数据库连接。它管理应用程序的所有数据库连接。它为数据库中的每一列向您的类添加属性。

*   **活动记录命名约定**

活动记录使用 CoC(约定优先于配置)原则。按照命名约定，您可以利用活动记录的许多动态功能，而无需任何配置。

* * *

## 类和数据库

数据库表应该以复数形式命名，模型类应该以小写形式命名。比如一个模特班级名字是**学生**，那么对应的表名就是**学生**。在这个约定的帮助下，Rails 将自动找到模型类的对应表，而不需要任何配置代码。它甚至支持复数名词，如“人”作为“人”的复数。

Rails 提供了一种为模型添加复数的工具。要定义自己的复数形式，请使用**拐点向 config/environment.rb 添加代码。**

在某些情况下，如果您不想用复数形式命名您的数据库，那么可以通过在 config/environment.rb 中添加以下行来用单数命名的数据库表来配置 Rails:

```

ActiveRecord::Base.pluralize_table_names = false

```

* * *