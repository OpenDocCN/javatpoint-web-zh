# 均值栈中的集对分析认证

> 原文:[https://www.javatpoint.com/spa-authentication-in-mean-stack](https://www.javatpoint.com/spa-authentication-in-mean-stack)

在前面的部分中，我们成功地创建了用户。现在，记录用户实际上意味着什么，我们如何存储这些信息，然后我们如何使用它来允许用户创建帖子或禁止它。这实际上对单页应用程序的作用不同于对普通全栈应用程序的作用。在像 angular 应用程序这样的单页应用程序中，我们的后端有一些路线、产品和不是我们的应用程序的产品，这是我们可能正在构建的应用程序。

我们了解到，我们通常通过 [HTTP](https://www.javatpoint.com/http) 客户端发送请求。其中一些路线可能会受到保护。例如，我们可能能够获得一个产品列表，但是我们不能创建一个新产品，至少如果我们没有被认证的话。

在传统的全栈应用程序中，我们会为此使用会话。因此，如果用户使用他的凭据登录，我们将在服务器上创建一个会话，并将 cookie 中的会话[标识](https://www.javatpoint.com/id)返回给该客户端，然后存储在浏览器中，对于未来的每个请求，我们将自动发送该 cookie 并在服务器上验证它，如果 cookie 标识与我们服务器上的有效会话匹配，我们将授予访问权限。简而言之，这就是它的工作原理。

这不适用于单页应用程序，因为单页应用程序后端，我们这里的 [API](https://www.javatpoint.com/api-full-form) 是无状态的。所以，它没有连接到前端应用程序。它不在乎那个应用。这就是为什么我们有两个独立的服务器，我们有一个节点和我们的角度服务器，我们在同一个项目中管理它们，但是从逻辑角度来看，它们是完全分离的。我们可以将任何应用程序连接到我们的休息应用程序接口。我们可以连接一个移动应用。因此，angular 应用程序在这方面与我们的节点后端解耦，它只向这些 URL 发送请求，但我们的服务器不存储任何关于该应用程序的信息。因此，服务器也不存储任何会话。

因此，我们必须找到一种不同的方式来存储身份验证信息，我们通常使用 [JSON](https://www.javatpoint.com/json-tutorial) 网络令牌来实现这一点。我们可以说，它就像一个信息包，在成功登录后被散列成一个在服务器上生成的长字符串。该令牌被发送回浏览器，我们可以将它存储在 angular app、cookie 或本地存储中，这是一个我们可以通过浏览器访问的 api。

然后，该令牌作为 URL 的一部分或作为标头附加到所有未来的请求中，并且该令牌不能伪造。它以一种不可能被打破的方式被散列。我们可以解开它。我们可以调查一下；这很好，但是如果我们编辑数据中作为令牌一部分的一个字符，整个散列将会改变。所以我们不能假装，不能改变，也不能猜测。只有服务器可以验证该令牌是否有效，因为是服务器创建了该令牌。只有服务器知道确切的算法。

因此，我们将该令牌与任何未来的请求一起发送，然后实际上允许用户访问，因为服务器可以验证该令牌，并且只有具有有效令牌的请求才被允许访问。其他请求被拒绝。

这是我们通常在单页应用程序中处理身份验证的方式，这也是我们将在本模块中处理的方式。

我们将在下一节中实际做所有这些事情。

* * *